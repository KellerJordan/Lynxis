{"metadata":{"usedHelpers":["objectDestructuringEmpty"],"marked":[],"modules":{"imports":[{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]},{"source":"meteor/aldeed:simple-schema","imported":["SimpleSchema"],"specifiers":[{"kind":"named","imported":"SimpleSchema","local":"SimpleSchema"}]},{"source":"meteor/mdg:validated-method","imported":["ValidatedMethod"],"specifiers":[{"kind":"named","imported":"ValidatedMethod","local":"ValidatedMethod"}]},{"source":"./nodes.js","imported":["Nodes","Links"],"specifiers":[{"kind":"named","imported":"Nodes","local":"Nodes"},{"kind":"named","imported":"Links","local":"Links"}]}],"exports":{"exported":["insertNode","insertLink"],"specifiers":[{"kind":"local","local":"insertNode","exported":"insertNode"},{"kind":"local","local":"insertLink","exported":"insertLink"}]}}},"options":{"filename":"/imports/api/nodes/methods.js","filenameRelative":"/imports/api/nodes/methods.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/api/nodes/methods.js.map","sourceFileName":"/imports/api/nodes/methods.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"methods"},"ignored":false,"code":"module.export({insertNode:function(){return insertNode},insertLink:function(){return insertLink}});var _objectDestructuringEmpty;module.import('babel-runtime/helpers/objectDestructuringEmpty',{\"default\":function(v){_objectDestructuringEmpty=v}});var Meteor;module.import('meteor/meteor',{\"Meteor\":function(v){Meteor=v}});var SimpleSchema;module.import('meteor/aldeed:simple-schema',{\"SimpleSchema\":function(v){SimpleSchema=v}});var ValidatedMethod;module.import('meteor/mdg:validated-method',{\"ValidatedMethod\":function(v){ValidatedMethod=v}});var Nodes,Links;module.import('./nodes.js',{\"Nodes\":function(v){Nodes=v},\"Links\":function(v){Links=v}});\n// /imports/api/nodes/methods.js\n\n\n\n\n\nvar insertNode = new ValidatedMethod({\n\tname: 'Nodes.insert',\n\tvalidate: Nodes.schema.validator(),\n\n\trun: function () {\n\t\tfunction run(_ref) {\n\t\t\t_objectDestructuringEmpty(_ref);\n\n\t\t\tNodes.insert({ date: new Date() });\n\t\t}\n\n\t\treturn run;\n\t}()\n});\n\nvar insertLink = new ValidatedMethod({\n\tname: 'Links.insert',\n\tvalidate: Nodes.schema.validator(),\n\n\trun: function () {\n\t\tfunction run(_ref2) {\n\t\t\tvar subid = _ref2.subid;\n\t\t\tvar objid = _ref2.objid;\n\t\t\tvar text = _ref2.text;\n\n\t\t\tLinks.insert({\n\t\t\t\tsubject: subject,\n\t\t\t\tobject: object,\n\t\t\t\ttext: text,\n\t\t\t\tdate: new Date()\n\t\t\t});\n\t\t}\n\n\t\treturn run;\n\t}()\n});","ast":null,"map":{"version":3,"sources":["/imports/api/nodes/methods.js"],"names":[],"mappings":";;AACA,SAAS,MAAT,QAAuB,eAAvB;AACA,SAAS,YAAT,QAA6B,6BAA7B;AACA,SAAS,eAAT,QAAgC,6BAAhC;AACA,SAAS,KAAT,EAAgB,KAAhB,QAA6B,YAA7B;;AAEA,OAAO,IAAM,aAAa,IAAI,eAAJ,CAAoB;AAC7C,OAAM,cADuC;AAE7C,WAAU,MAAM,MAAN,CAAa,SAAb,EAFmC;;AAI7C,IAJ6C;AAAA,qBAIrC;AAAA;;AACP,SAAM,MAAN,CAAa,EAAE,MAAM,IAAI,IAAJ,EAAR,EAAb;AACA;;AAN4C;AAAA;AAAA,CAApB,CAAnB;;AASP,OAAO,IAAM,aAAa,IAAI,eAAJ,CAAoB;AAC7C,OAAM,cADuC;AAE7C,WAAU,MAAM,MAAN,CAAa,SAAb,EAFmC;;AAI7C,IAJ6C;AAAA,sBAIjB;AAAA,OAAtB,KAAsB,SAAtB,KAAsB;AAAA,OAAf,KAAe,SAAf,KAAe;AAAA,OAAR,IAAQ,SAAR,IAAQ;;AAC3B,SAAM,MAAN,CAAa;AACZ,oBADY;AAEZ,kBAFY;AAGZ,cAHY;AAIZ,UAAM,IAAI,IAAJ;AAJM,IAAb;AAMA;;AAX4C;AAAA;AAAA,CAApB,CAAnB","file":"/imports/api/nodes/methods.js.map","sourcesContent":["// /imports/api/nodes/methods.js\r\nimport { Meteor } from 'meteor/meteor';\r\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\r\nimport { ValidatedMethod } from 'meteor/mdg:validated-method';\r\nimport { Nodes, Links } from './nodes.js';\r\n\r\nexport const insertNode = new ValidatedMethod({\r\n\tname: 'Nodes.insert',\r\n\tvalidate: Nodes.schema.validator(),\r\n\r\n\trun({}) {\r\n\t\tNodes.insert({ date: new Date() });\r\n\t}\r\n});\r\n\r\nexport const insertLink = new ValidatedMethod({\r\n\tname: 'Links.insert',\r\n\tvalidate: Nodes.schema.validator(),\r\n\r\n\trun({ subid, objid, text }) {\r\n\t\tLinks.insert({\r\n\t\t\tsubject,\r\n\t\t\tobject,\r\n\t\t\ttext,\r\n\t\t\tdate: new Date()\r\n\t\t});\r\n\t}\r\n});"]},"hash":"254971701539ef1d6b50da6e0b90c7d10c8701d4"}
