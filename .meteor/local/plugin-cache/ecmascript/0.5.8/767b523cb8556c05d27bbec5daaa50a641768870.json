{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]},{"source":"/imports/api/nodes/nodes.js","imported":["Nodes","Links"],"specifiers":[{"kind":"named","imported":"Nodes","local":"Nodes"},{"kind":"named","imported":"Links","local":"Links"}]},{"source":"/imports/api/nodes/methods.js","imported":["insertNode","insertLink"],"specifiers":[{"kind":"named","imported":"insertNode","local":"insertNode"},{"kind":"named","imported":"insertLink","local":"insertLink"}]},{"source":"./Lynxis.html","imported":[],"specifiers":[]},{"source":"react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"React"}]},{"source":"react-dom","imported":["render"],"specifiers":[{"kind":"named","imported":"render","local":"render"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/ui/Lynxis/Lynxis.js","filenameRelative":"/imports/ui/Lynxis/Lynxis.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/ui/Lynxis/Lynxis.js.map","sourceFileName":"/imports/ui/Lynxis/Lynxis.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"Lynxis"},"ignored":false,"code":"var Meteor;module.import('meteor/meteor',{\"Meteor\":function(v){Meteor=v}});var Nodes,Links;module.import('/imports/api/nodes/nodes.js',{\"Nodes\":function(v){Nodes=v},\"Links\":function(v){Links=v}});var insertNode,insertLink;module.import('/imports/api/nodes/methods.js',{\"insertNode\":function(v){insertNode=v},\"insertLink\":function(v){insertLink=v}});module.import('./Lynxis.html');var React;module.import('react',{\"default\":function(v){React=v}});var render;module.import('react-dom',{\"render\":function(v){render=v}});\n\n\n\n\n\n\n\n$('#addNode').on('click', function () {\n\tinsertNode.call({});\n});\n\nvar App = React.createClass({\n\tdisplayName: 'App',\n\trender: function () {\n\t\tfunction render() {\n\t\t\treturn React.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ id: 'container' },\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'ul',\n\t\t\t\t\t{ className: 'collection' },\n\t\t\t\t\tthis.props.nodes.map(function (node) {\n\t\t\t\t\t\treturn React.createElement(\n\t\t\t\t\t\t\t'li',\n\t\t\t\t\t\t\t{ key: node._id, className: 'collection-item' },\n\t\t\t\t\t\t\tReact.createElement(TextNode, { text: node._id })\n\t\t\t\t\t\t);\n\t\t\t\t\t}),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'li',\n\t\t\t\t\t\t{ className: 'collection-item', id: 'addNode' },\n\t\t\t\t\t\t'Add a Node'\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\treturn render;\n\t}()\n});\n\nvar TextNode = React.createClass({\n\tdisplayName: 'TextNode',\n\tgetInitialState: function () {\n\t\tfunction getInitialState() {\n\t\t\treturn {\n\t\t\t\ttext: this.props.text,\n\t\t\t\thovered: false,\n\t\t\t\tfocused: false\n\t\t\t};\n\t\t}\n\n\t\treturn getInitialState;\n\t}(),\n\n\n\tcomponentWillReceiveProps: function () {\n\t\tfunction componentWillReceiveProps(nextProps) {\n\t\t\tthis.setState({ hovered: nextProps.hovered });\n\t\t}\n\n\t\treturn componentWillReceiveProps;\n\t}(),\n\n\thandleChange: function () {\n\t\tfunction handleChange(event) {\n\t\t\tthis.setState({ text: event.target.value });\n\t\t}\n\n\t\treturn handleChange;\n\t}(),\n\thandleHover: function () {\n\t\tfunction handleHover(hover) {\n\t\t\tthis.setState({ hovered: hover });\n\t\t}\n\n\t\treturn handleHover;\n\t}(),\n\thandleFocus: function () {\n\t\tfunction handleFocus(focus) {\n\t\t\tthis.setState({ focused: focus });\n\t\t\t// if(!focus) MathJax.Hub.Queue([\"Typeset\", MathJax.Hub]);\n\t\t}\n\n\t\treturn handleFocus;\n\t}(),\n\trender: function () {\n\t\tfunction render() {\n\t\t\tvar text = this.state.text,\n\t\t\t    divVisible = this.state.hovered || this.state.focused ? \"hidden\" : \"visible\",\n\t\t\t    textareaVisible = divVisible == \"visible\" ? \"hidden\" : \"visible\";\n\t\t\treturn React.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ onMouseEnter: this.handleHover.bind(this, true), onMouseLeave: this.handleHover.bind(this, false) },\n\t\t\t\tReact.createElement('textarea', {\n\t\t\t\t\tonFocus: this.handleFocus.bind(this, true),\n\t\t\t\t\tonChange: this.handleChange,\n\t\t\t\t\tonBlur: this.handleFocus.bind(this, false),\n\t\t\t\t\tvalue: text,\n\t\t\t\t\trows: 1,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tvisibility: textareaVisible,\n\t\t\t\t\t\tzIndex: 1000\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tvisibility: divVisible\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclassName: 'TextNode'\n\t\t\t\t\t},\n\t\t\t\t\ttext\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\treturn render;\n\t}()\n});\n\nMeteor.startup(function () {\n\tMeteor.autorun(function () {\n\t\tMeteor.subscribe('nodes.all');\n\t\trender(React.createElement(App, { nodes: Nodes.find() }), document.getElementById('render-target'));\n\t});\n});","ast":null,"map":{"version":3,"sources":["/imports/ui/Lynxis/Lynxis.js"],"names":[],"mappings":"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","file":"/imports/ui/Lynxis/Lynxis.js.map","sourcesContent":["import { Meteor } from 'meteor/meteor';\r\nimport { Nodes, Links } from '/imports/api/nodes/nodes.js';\r\nimport { insertNode, insertLink } from '/imports/api/nodes/methods.js';\r\nimport './Lynxis.html';\r\n\r\nimport React from 'react';\r\nimport { render } from 'react-dom';\r\n\r\n$('#addNode').on('click', () => {\r\n\tinsertNode.call({});\r\n});\r\n\r\nvar App = React.createClass({\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div id=\"container\">\r\n\t\t\t\t<ul className=\"collection\">\r\n\t\t\t\t\t{this.props.nodes.map(node => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<li key={node._id} className=\"collection-item\">\r\n\t\t\t\t\t\t\t\t<TextNode text={node._id} />\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t<li className=\"collection-item\" id=\"addNode\">Add a Node</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n});\r\n\r\nvar TextNode = React.createClass({\r\n\tgetInitialState() {\r\n\t\treturn {\r\n\t\t\ttext: this.props.text,\r\n\t\t\thovered: false,\r\n\t\t\tfocused: false\r\n\t\t}\r\n\t},\r\n\r\n\tcomponentWillReceiveProps: function(nextProps) { this.setState({ hovered: nextProps.hovered })},\r\n\r\n\thandleChange(event) {\r\n\t\tthis.setState({ text: event.target.value });\r\n\t},\r\n\r\n\thandleHover(hover) { this.setState({ hovered: hover }) },\r\n\r\n\thandleFocus(focus) {\r\n\t\tthis.setState({ focused: focus });\r\n\t\t// if(!focus) MathJax.Hub.Queue([\"Typeset\", MathJax.Hub]);\r\n\t},\r\n\r\n\trender() {\r\n\t\tvar text = this.state.text,\r\n\t\t\tdivVisible = this.state.hovered || this.state.focused ? \"hidden\" : \"visible\",\r\n\t\t\ttextareaVisible = (divVisible == \"visible\") ? \"hidden\" : \"visible\";\r\n\t\treturn (\r\n\t\t\t<div onMouseEnter={this.handleHover.bind(this, true)} onMouseLeave={this.handleHover.bind(this, false)} >\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tonFocus={this.handleFocus.bind(this, true)}\r\n\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\tonBlur={this.handleFocus.bind(this, false)}\r\n\t\t\t\t\tvalue={text}\r\n\t\t\t\t\trows={1}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tvisibility: textareaVisible,\r\n\t\t\t\t\t\tzIndex: 1000\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tvisibility: divVisible,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName=\"TextNode\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{text}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n});\r\n\r\nMeteor.startup(() => {\r\n\tMeteor.autorun(() => {\r\n\t\tMeteor.subscribe('nodes.all');\r\n\t\trender(<App nodes={Nodes.find()} />, document.getElementById('render-target'));\r\n\t});\r\n});"]},"hash":"767b523cb8556c05d27bbec5daaa50a641768870"}
