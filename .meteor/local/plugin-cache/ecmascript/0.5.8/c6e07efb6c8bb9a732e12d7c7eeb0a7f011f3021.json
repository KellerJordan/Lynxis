{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]},{"source":"/imports/api/nodes/nodes.js","imported":["Nodes","Links"],"specifiers":[{"kind":"named","imported":"Nodes","local":"Nodes"},{"kind":"named","imported":"Links","local":"Links"}]},{"source":"/imports/api/nodes/methods.js","imported":["insertNode","insertLink","updateNode"],"specifiers":[{"kind":"named","imported":"insertNode","local":"insertNode"},{"kind":"named","imported":"insertLink","local":"insertLink"},{"kind":"named","imported":"updateNode","local":"updateNode"}]},{"source":"./Lynxis.html","imported":[],"specifiers":[]},{"source":"react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"React"}]},{"source":"react-dom","imported":["render"],"specifiers":[{"kind":"named","imported":"render","local":"render"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/ui/Lynxis/Lynxis.js","filenameRelative":"/imports/ui/Lynxis/Lynxis.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/ui/Lynxis/Lynxis.js.map","sourceFileName":"/imports/ui/Lynxis/Lynxis.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"Lynxis"},"ignored":false,"code":"var Meteor;module.import('meteor/meteor',{\"Meteor\":function(v){Meteor=v}});var Nodes,Links;module.import('/imports/api/nodes/nodes.js',{\"Nodes\":function(v){Nodes=v},\"Links\":function(v){Links=v}});var insertNode,insertLink,updateNode;module.import('/imports/api/nodes/methods.js',{\"insertNode\":function(v){insertNode=v},\"insertLink\":function(v){insertLink=v},\"updateNode\":function(v){updateNode=v}});module.import('./Lynxis.html');var React;module.import('react',{\"default\":function(v){React=v}});var render;module.import('react-dom',{\"render\":function(v){render=v}});\n\n\n\n\n\n\n\nMeteor.startup(function () {\n\tMeteor.autorun(function () {\n\n\t\tMeteor.subscribe('nodes.all');\n\t\trender(React.createElement(App, { nodes: Nodes.find() }), document.getElementById('render-target'));\n\n\t\t$('#addNode').on('click', function () {\n\t\t\tinsertNode.call({});\n\t\t});\n\t});\n});\n\nvar App = React.createClass({\n\tdisplayName: 'App',\n\trender: function render() {\n\t\treturn React.createElement(\n\t\t\t'div',\n\t\t\t{ id: 'container' },\n\t\t\tReact.createElement(\n\t\t\t\t'ul',\n\t\t\t\t{ className: 'collection' },\n\t\t\t\tthis.props.nodes.map(function (node) {\n\t\t\t\t\treturn React.createElement(\n\t\t\t\t\t\t'li',\n\t\t\t\t\t\t{ key: node._id, className: 'collection-item' },\n\t\t\t\t\t\tReact.createElement(TextNode, { id: node._id, text: Date.parse(node.date) })\n\t\t\t\t\t);\n\t\t\t\t}),\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'li',\n\t\t\t\t\t{ className: 'collection-item', id: 'addNode' },\n\t\t\t\t\t'Add a Node'\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n});\n\nvar TextNode = React.createClass({\n\tdisplayName: 'TextNode',\n\tgetInitialState: function getInitialState() {\n\t\treturn {\n\t\t\ttext: this.props.text,\n\t\t\thovered: false,\n\t\t\tfocused: false\n\t\t};\n\t},\n\n\n\tcomponentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n\t\tthis.setState({ hovered: nextProps.hovered });\n\t},\n\n\thandleChange: function handleChange(event) {\n\t\tvar text = event.target.value;\n\t\tthis.setState({ text: text });\n\t\tupdateNode.call({ _id: this.props._id, date: new Date() });\n\t},\n\thandleHover: function handleHover(hover) {\n\t\tthis.setState({ hovered: hover });\n\t},\n\thandleFocus: function handleFocus(focus) {\n\t\tthis.setState({ focused: focus });\n\t\t// if(!focus) MathJax.Hub.Queue([\"Typeset\", MathJax.Hub]);\n\t},\n\trender: function render() {\n\t\tvar text = this.state.text,\n\t\t    divVisible = this.state.hovered || this.state.focused ? \"hidden\" : \"visible\",\n\t\t    textareaVisible = divVisible == \"visible\" ? \"hidden\" : \"visible\";\n\t\treturn React.createElement(\n\t\t\t'div',\n\t\t\t{ onMouseEnter: this.handleHover.bind(this, true), onMouseLeave: this.handleHover.bind(this, false) },\n\t\t\tReact.createElement('textarea', {\n\t\t\t\tonFocus: this.handleFocus.bind(this, true),\n\t\t\t\tonChange: this.handleChange,\n\t\t\t\tonBlur: this.handleFocus.bind(this, false),\n\t\t\t\tvalue: text,\n\t\t\t\trows: 1,\n\t\t\t\tstyle: {\n\t\t\t\t\tvisibility: textareaVisible,\n\t\t\t\t\tzIndex: 1000\n\t\t\t\t}\n\t\t\t}),\n\t\t\tReact.createElement(\n\t\t\t\t'div',\n\t\t\t\t{\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tvisibility: divVisible\n\t\t\t\t\t},\n\t\t\t\t\tclassName: 'TextNode'\n\t\t\t\t},\n\t\t\t\ttext\n\t\t\t)\n\t\t);\n\t}\n});","ast":null,"map":{"version":3,"sources":["/imports/ui/Lynxis/Lynxis.js"],"names":[],"mappings":"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","file":"/imports/ui/Lynxis/Lynxis.js.map","sourcesContent":["import { Meteor } from 'meteor/meteor';\r\nimport { Nodes, Links } from '/imports/api/nodes/nodes.js';\r\nimport { insertNode, insertLink, updateNode } from '/imports/api/nodes/methods.js';\r\nimport './Lynxis.html';\r\n\r\nimport React from 'react';\r\nimport { render } from 'react-dom';\r\n\r\n\r\nMeteor.startup(() => {\r\n\tMeteor.autorun(() => {\r\n\r\n\t\tMeteor.subscribe('nodes.all');\r\n\t\trender(<App nodes={Nodes.find()} />, document.getElementById('render-target'));\r\n\r\n\t\t$('#addNode').on('click', () => {\r\n\t\t\tinsertNode.call({});\r\n\t\t});\r\n\t\t\r\n\t});\r\n});\r\n\r\nvar App = React.createClass({\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div id=\"container\">\r\n\t\t\t\t<ul className=\"collection\">\r\n\t\t\t\t\t{this.props.nodes.map(node => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<li key={node._id} className=\"collection-item\">\r\n\t\t\t\t\t\t\t\t<TextNode id={node._id} text={Date.parse(node.date)} />\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t<li className=\"collection-item\" id=\"addNode\">Add a Node</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n});\r\n\r\nvar TextNode = React.createClass({\r\n\tgetInitialState() {\r\n\t\treturn {\r\n\t\t\ttext: this.props.text,\r\n\t\t\thovered: false,\r\n\t\t\tfocused: false\r\n\t\t}\r\n\t},\r\n\r\n\tcomponentWillReceiveProps: function(nextProps) { this.setState({ hovered: nextProps.hovered })},\r\n\r\n\thandleChange(event) {\r\n\t\tconst text = event.target.value;\r\n\t\tthis.setState({ text });\r\n\t\tupdateNode.call({ _id: this.props._id, date: new Date() });\r\n\t},\r\n\r\n\thandleHover(hover) { this.setState({ hovered: hover }) },\r\n\r\n\thandleFocus(focus) {\r\n\t\tthis.setState({ focused: focus });\r\n\t\t// if(!focus) MathJax.Hub.Queue([\"Typeset\", MathJax.Hub]);\r\n\t},\r\n\r\n\trender() {\r\n\t\tvar text = this.state.text,\r\n\t\t\tdivVisible = this.state.hovered || this.state.focused ? \"hidden\" : \"visible\",\r\n\t\t\ttextareaVisible = (divVisible == \"visible\") ? \"hidden\" : \"visible\";\r\n\t\treturn (\r\n\t\t\t<div onMouseEnter={this.handleHover.bind(this, true)} onMouseLeave={this.handleHover.bind(this, false)} >\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tonFocus={this.handleFocus.bind(this, true)}\r\n\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\tonBlur={this.handleFocus.bind(this, false)}\r\n\t\t\t\t\tvalue={text}\r\n\t\t\t\t\trows={1}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tvisibility: textareaVisible,\r\n\t\t\t\t\t\tzIndex: 1000\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tvisibility: divVisible,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName=\"TextNode\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{text}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n});"]},"hash":"c6e07efb6c8bb9a732e12d7c7eeb0a7f011f3021"}
