[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\n$ = Package.jquery.$;\njQuery = Package.jquery.jQuery;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nValidatedMethod = Package['mdg:validated-method'].ValidatedMethod;\nSimpleSchema = Package['aldeed:simple-schema'].SimpleSchema;\nMongoObject = Package['aldeed:simple-schema'].MongoObject;\nMaterialize = Package['materialize:materialize'].Materialize;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package['templating-runtime'].Template;\nmeteorInstall = Package.modules.meteorInstall;\nBuffer = Package.modules.Buffer;\nprocess = Package.modules.process;\nSymbol = Package['ecmascript-runtime'].Symbol;\nMap = Package['ecmascript-runtime'].Map;\nSet = Package['ecmascript-runtime'].Set;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nCollection2 = Package['aldeed:collection2-core'].Collection2;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"imports\":{\"ui\":{\"Lynxis\":{\"Lynxis.html\":[\"./template.Lynxis.js\",function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// imports/ui/Lynxis/Lynxis.html                                                                           //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\nmodule.exports = require(\"./template.Lynxis.js\");                                                          // 1\n                                                                                                           // 2\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}],\"template.Lynxis.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// imports/ui/Lynxis/template.Lynxis.js                                                                    //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\n                                                                                                           // 1\nTemplate.body.addContent((function() {                                                                     // 2\n  var view = this;                                                                                         // 3\n  return HTML.Raw('<h4>Lynxis</h4>\\n\\t<div id=\"render-target\">\\n\\t</div>');                                // 4\n}));                                                                                                       // 5\nMeteor.startup(Template.body.renderToDocument);                                                            // 6\n                                                                                                           // 7\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Lynxis.js\":[\"meteor/meteor\",\"/imports/api/nodes/nodes.js\",\"/imports/api/nodes/methods.js\",\"./Lynxis.html\",\"react\",\"react-dom\",function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// imports/ui/Lynxis/Lynxis.js                                                                             //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\nvar Meteor;module.import('meteor/meteor',{\"Meteor\":function(v){Meteor=v}});var Nodes,Links;module.import('/imports/api/nodes/nodes.js',{\"Nodes\":function(v){Nodes=v},\"Links\":function(v){Links=v}});var insertNode,insertLink;module.import('/imports/api/nodes/methods.js',{\"insertNode\":function(v){insertNode=v},\"insertLink\":function(v){insertLink=v}});module.import('./Lynxis.html');var React;module.import('react',{\"default\":function(v){React=v}});var render;module.import('react-dom',{\"render\":function(v){render=v}});\n                                                                                                           // 2\n                                                                                                           // 3\n                                                                                                           // 4\n                                                                                                           //\n                                                                                                           // 6\n                                                                                                           // 7\n                                                                                                           //\n$(document).on('click', function () {                                                                      // 9\n\tinsertNode.call({});                                                                                      // 10\n});                                                                                                        // 11\n                                                                                                           //\nvar App = React.createClass({                                                                              // 13\n\tdisplayName: 'App',                                                                                       // 13\n\trender: function () {                                                                                     // 14\n\t\tfunction render() {                                                                                      // 13\n\t\t\treturn React.createElement(                                                                             // 15\n\t\t\t\t'div',                                                                                                 // 16\n\t\t\t\t{ id: 'container' },                                                                                   // 16\n\t\t\t\tthis.props.nodes.map(function (node) {                                                                 // 17\n\t\t\t\t\treturn React.createElement(                                                                           // 18\n\t\t\t\t\t\t'div',                                                                                               // 19\n\t\t\t\t\t\t{ key: node._id },                                                                                   // 19\n\t\t\t\t\t\tReact.createElement(                                                                                 // 20\n\t\t\t\t\t\t\t'ul',                                                                                               // 20\n\t\t\t\t\t\t\t{ className: 'collection' },                                                                        // 20\n\t\t\t\t\t\t\tReact.createElement(TextNode, { text: node._id })                                                   // 21\n\t\t\t\t\t\t)                                                                                                    // 20\n\t\t\t\t\t);                                                                                                    // 19\n\t\t\t\t})                                                                                                     // 25\n\t\t\t);                                                                                                      // 16\n\t\t}                                                                                                        // 28\n                                                                                                           //\n\t\treturn render;                                                                                           // 13\n\t}()                                                                                                       // 13\n});                                                                                                        // 13\n                                                                                                           //\nvar TextNode = React.createClass({                                                                         // 31\n\tdisplayName: 'TextNode',                                                                                  // 31\n\tgetInitialState: function () {                                                                            // 32\n\t\tfunction getInitialState() {                                                                             // 31\n\t\t\treturn {                                                                                                // 33\n\t\t\t\ttext: this.props.text,                                                                                 // 34\n\t\t\t\thovered: false,                                                                                        // 35\n\t\t\t\tfocused: false                                                                                         // 36\n\t\t\t};                                                                                                      // 33\n\t\t}                                                                                                        // 38\n                                                                                                           //\n\t\treturn getInitialState;                                                                                  // 31\n\t}(),                                                                                                      // 31\n                                                                                                           //\n                                                                                                           //\n\tcomponentWillReceiveProps: function () {                                                                  // 40\n\t\tfunction componentWillReceiveProps(nextProps) {                                                          // 40\n\t\t\tthis.setState({ hovered: nextProps.hovered });                                                          // 40\n\t\t}                                                                                                        // 40\n                                                                                                           //\n\t\treturn componentWillReceiveProps;                                                                        // 40\n\t}(),                                                                                                      // 40\n                                                                                                           //\n\thandleChange: function () {                                                                               // 42\n\t\tfunction handleChange(event) {                                                                           // 31\n\t\t\tthis.setState({ text: event.target.value });                                                            // 43\n\t\t}                                                                                                        // 44\n                                                                                                           //\n\t\treturn handleChange;                                                                                     // 31\n\t}(),                                                                                                      // 31\n\thandleHover: function () {                                                                                // 46\n\t\tfunction handleHover(hover) {                                                                            // 31\n\t\t\tthis.setState({ hovered: hover });                                                                      // 46\n\t\t}                                                                                                        // 46\n                                                                                                           //\n\t\treturn handleHover;                                                                                      // 31\n\t}(),                                                                                                      // 31\n\thandleFocus: function () {                                                                                // 48\n\t\tfunction handleFocus(focus) {                                                                            // 31\n\t\t\tthis.setState({ focused: focus });                                                                      // 49\n\t\t\t// if(!focus) MathJax.Hub.Queue([\"Typeset\", MathJax.Hub]);                                              //\n\t\t}                                                                                                        // 51\n                                                                                                           //\n\t\treturn handleFocus;                                                                                      // 31\n\t}(),                                                                                                      // 31\n\trender: function () {                                                                                     // 53\n\t\tfunction render() {                                                                                      // 31\n\t\t\tvar text = this.state.text,                                                                             // 54\n\t\t\t    divVisible = this.state.hovered || this.state.focused ? \"hidden\" : \"visible\",                       // 54\n\t\t\t    textareaVisible = divVisible == \"visible\" ? \"hidden\" : \"visible\";                                   // 54\n\t\t\treturn React.createElement(                                                                             // 57\n\t\t\t\t'div',                                                                                                 // 58\n\t\t\t\t{ onMouseEnter: this.handleHover.bind(this, true), onMouseLeave: this.handleHover.bind(this, false) },\n\t\t\t\tReact.createElement('textarea', {                                                                      // 59\n\t\t\t\t\tonFocus: this.handleFocus.bind(this, true),                                                           // 60\n\t\t\t\t\tonChange: this.handleChange,                                                                          // 61\n\t\t\t\t\tonBlur: this.handleFocus.bind(this, false),                                                           // 62\n\t\t\t\t\tvalue: text,                                                                                          // 63\n\t\t\t\t\trows: 1,                                                                                              // 64\n\t\t\t\t\tstyle: {                                                                                              // 65\n\t\t\t\t\t\tvisibility: textareaVisible,                                                                         // 66\n\t\t\t\t\t\tzIndex: 1000                                                                                         // 67\n\t\t\t\t\t}                                                                                                     // 65\n\t\t\t\t}),                                                                                                    // 59\n\t\t\t\tReact.createElement(                                                                                   // 70\n\t\t\t\t\t'div',                                                                                                // 70\n\t\t\t\t\t{                                                                                                     // 70\n\t\t\t\t\t\tstyle: {                                                                                             // 71\n\t\t\t\t\t\t\tvisibility: divVisible                                                                              // 72\n\t\t\t\t\t\t},                                                                                                   // 71\n\t\t\t\t\t\tclassName: 'TextNode'                                                                                // 74\n\t\t\t\t\t},                                                                                                    // 70\n\t\t\t\t\ttext                                                                                                  // 76\n\t\t\t\t)                                                                                                      // 70\n\t\t\t);                                                                                                      // 58\n\t\t}                                                                                                        // 80\n                                                                                                           //\n\t\treturn render;                                                                                           // 31\n\t}()                                                                                                       // 31\n});                                                                                                        // 31\n                                                                                                           //\nMeteor.startup(function () {                                                                               // 83\n\tMeteor.autorun(function () {                                                                              // 84\n\t\tMeteor.subscribe('nodes.all');                                                                           // 85\n\t\trender(React.createElement(App, { nodes: Nodes.find() }), document.getElementById('render-target'));     // 86\n\t});                                                                                                       // 87\n});                                                                                                        // 88\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}]}},\"api\":{\"nodes\":{\"methods.js\":[\"babel-runtime/helpers/objectDestructuringEmpty\",\"meteor/meteor\",\"meteor/aldeed:simple-schema\",\"meteor/mdg:validated-method\",\"./nodes.js\",function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// imports/api/nodes/methods.js                                                                            //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\nmodule.export({insertNode:function(){return insertNode},insertLink:function(){return insertLink}});var _objectDestructuringEmpty;module.import('babel-runtime/helpers/objectDestructuringEmpty',{\"default\":function(v){_objectDestructuringEmpty=v}});var Meteor;module.import('meteor/meteor',{\"Meteor\":function(v){Meteor=v}});var SimpleSchema;module.import('meteor/aldeed:simple-schema',{\"SimpleSchema\":function(v){SimpleSchema=v}});var ValidatedMethod;module.import('meteor/mdg:validated-method',{\"ValidatedMethod\":function(v){ValidatedMethod=v}});var Nodes,Links;module.import('./nodes.js',{\"Nodes\":function(v){Nodes=v},\"Links\":function(v){Links=v}});\n// /imports/api/nodes/methods.js                                                                           //\n                                                                                                           // 2\n                                                                                                           // 3\n                                                                                                           // 4\n                                                                                                           // 5\n                                                                                                           //\nvar insertNode = new ValidatedMethod({                                                                     // 7\n\tname: 'Nodes.insert',                                                                                     // 8\n\tvalidate: Nodes.schema.validator(),                                                                       // 9\n                                                                                                           //\n\trun: function () {                                                                                        // 11\n\t\tfunction run(_ref) {                                                                                     // 7\n\t\t\t_objectDestructuringEmpty(_ref);                                                                        // 11\n                                                                                                           //\n\t\t\tNodes.insert({ date: new Date() });                                                                     // 12\n\t\t}                                                                                                        // 13\n                                                                                                           //\n\t\treturn run;                                                                                              // 7\n\t}()                                                                                                       // 7\n});                                                                                                        // 7\n                                                                                                           //\nvar insertLink = new ValidatedMethod({                                                                     // 16\n\tname: 'Links.insert',                                                                                     // 17\n\tvalidate: Nodes.schema.validator(),                                                                       // 18\n                                                                                                           //\n\trun: function () {                                                                                        // 20\n\t\tfunction run(_ref2) {                                                                                    // 16\n\t\t\tvar subid = _ref2.subid;                                                                                // 20\n\t\t\tvar objid = _ref2.objid;                                                                                // 20\n\t\t\tvar text = _ref2.text;                                                                                  // 20\n                                                                                                           //\n\t\t\tLinks.insert({                                                                                          // 21\n\t\t\t\tsubject: subject,                                                                                      // 22\n\t\t\t\tobject: object,                                                                                        // 23\n\t\t\t\ttext: text,                                                                                            // 24\n\t\t\t\tdate: new Date()                                                                                       // 25\n\t\t\t});                                                                                                     // 21\n\t\t}                                                                                                        // 27\n                                                                                                           //\n\t\treturn run;                                                                                              // 16\n\t}()                                                                                                       // 16\n});                                                                                                        // 16\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}],\"nodes.js\":[\"meteor/mongo\",\"meteor/aldeed:simple-schema\",function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// imports/api/nodes/nodes.js                                                                              //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\nmodule.export({Links:function(){return Links},Nodes:function(){return Nodes},counters:function(){return counters}});var Mongo;module.import('meteor/mongo',{\"Mongo\":function(v){Mongo=v}});var SimpleSchema;module.import('meteor/aldeed:simple-schema',{\"SimpleSchema\":function(v){SimpleSchema=v}});// /imports/api/nodes/nodes.js\n                                                                                                           // 2\n                                                                                                           // 3\n                                                                                                           //\nNodeDB = new Mongo.Collection('Nodes');                                                                    // 5\nLinkDB = new Mongo.Collection('Links');                                                                    // 6\nCountersDB = new Mongo.Collection('counters');                                                             // 7\n                                                                                                           //\nNodeDB.schema = new SimpleSchema({});                                                                      // 9\nLinkDB.schema = new SimpleSchema({                                                                         // 10\n\tsubject: { type: Number },                                                                                // 11\n\tobject: { type: Number },                                                                                 // 12\n\ttext: { type: String }                                                                                    // 13\n});                                                                                                        // 10\n                                                                                                           //\nvar Links = LinkDB;                                                                                        // 16\nvar Nodes = NodeDB;                                                                                        // 17\nvar counters = CountersDB;                                                                                 // 18\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}]}},\"startup\":{\"client\":{\"index.js\":[\"/imports/ui/Lynxis/Lynxis.js\",function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// imports/startup/client/index.js                                                                         //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\nmodule.import('/imports/ui/Lynxis/Lynxis.js');// /imports/startup/client/index.js                          //\n                                                                                                           // 2\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}]}}},\"client\":{\"main.js\":[\"/imports/startup/client/index.js\",function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// client/main.js                                                                                          //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\nmodule.import('/imports/startup/client/index.js');                                                         // 1\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}]}},{\"extensions\":[\".js\",\".json\",\".html\",\".css\"]});\nrequire(\"./client/main.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["imports/ui/Lynxis/Lynxis.html","/imports/ui/Lynxis/template.Lynxis.js","/imports/ui/Lynxis/Lynxis.js","/imports/api/nodes/methods.js","/imports/api/nodes/nodes.js","/imports/startup/client/index.js","/client/main.js"],"names":[],"mappings":"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","file":"/app.js","sourcesContent":["module.exports = require(\"./template.Lynxis.js\");\n","\nTemplate.body.addContent((function() {\n  var view = this;\n  return HTML.Raw('<h4>Lynxis</h4>\\n\\t<div id=\"render-target\">\\n\\t</div>');\n}));\nMeteor.startup(Template.body.renderToDocument);\n","import { Meteor } from 'meteor/meteor';\r\nimport { Nodes, Links } from '/imports/api/nodes/nodes.js';\r\nimport { insertNode, insertLink } from '/imports/api/nodes/methods.js';\r\nimport './Lynxis.html';\r\n\r\nimport React from 'react';\r\nimport { render } from 'react-dom';\r\n\r\n$(document).on('click', () => {\r\n\tinsertNode.call({});\r\n});\r\n\r\nvar App = React.createClass({\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div id=\"container\">\r\n\t\t\t\t{this.props.nodes.map(node => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={node._id} >\r\n\t\t\t\t\t\t\t<ul className=\"collection\">\r\n\t\t\t\t\t\t\t\t<TextNode text={node._id} />\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n});\r\n\r\nvar TextNode = React.createClass({\r\n\tgetInitialState() {\r\n\t\treturn {\r\n\t\t\ttext: this.props.text,\r\n\t\t\thovered: false,\r\n\t\t\tfocused: false\r\n\t\t}\r\n\t},\r\n\r\n\tcomponentWillReceiveProps: function(nextProps) { this.setState({ hovered: nextProps.hovered })},\r\n\r\n\thandleChange(event) {\r\n\t\tthis.setState({ text: event.target.value });\r\n\t},\r\n\r\n\thandleHover(hover) { this.setState({ hovered: hover }) },\r\n\r\n\thandleFocus(focus) {\r\n\t\tthis.setState({ focused: focus });\r\n\t\t// if(!focus) MathJax.Hub.Queue([\"Typeset\", MathJax.Hub]);\r\n\t},\r\n\r\n\trender() {\r\n\t\tvar text = this.state.text,\r\n\t\t\tdivVisible = this.state.hovered || this.state.focused ? \"hidden\" : \"visible\",\r\n\t\t\ttextareaVisible = (divVisible == \"visible\") ? \"hidden\" : \"visible\";\r\n\t\treturn (\r\n\t\t\t<div onMouseEnter={this.handleHover.bind(this, true)} onMouseLeave={this.handleHover.bind(this, false)} >\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tonFocus={this.handleFocus.bind(this, true)}\r\n\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\tonBlur={this.handleFocus.bind(this, false)}\r\n\t\t\t\t\tvalue={text}\r\n\t\t\t\t\trows={1}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tvisibility: textareaVisible,\r\n\t\t\t\t\t\tzIndex: 1000\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tvisibility: divVisible,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName=\"TextNode\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{text}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n});\r\n\r\nMeteor.startup(() => {\r\n\tMeteor.autorun(() => {\r\n\t\tMeteor.subscribe('nodes.all');\r\n\t\trender(<App nodes={Nodes.find()} />, document.getElementById('render-target'));\r\n\t});\r\n});","// /imports/api/nodes/methods.js\r\nimport { Meteor } from 'meteor/meteor';\r\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\r\nimport { ValidatedMethod } from 'meteor/mdg:validated-method';\r\nimport { Nodes, Links } from './nodes.js';\r\n\r\nexport const insertNode = new ValidatedMethod({\r\n\tname: 'Nodes.insert',\r\n\tvalidate: Nodes.schema.validator(),\r\n\r\n\trun({}) {\r\n\t\tNodes.insert({ date: new Date() });\r\n\t}\r\n});\r\n\r\nexport const insertLink = new ValidatedMethod({\r\n\tname: 'Links.insert',\r\n\tvalidate: Nodes.schema.validator(),\r\n\r\n\trun({ subid, objid, text }) {\r\n\t\tLinks.insert({\r\n\t\t\tsubject,\r\n\t\t\tobject,\r\n\t\t\ttext,\r\n\t\t\tdate: new Date()\r\n\t\t});\r\n\t}\r\n});","// /imports/api/nodes/nodes.js\r\nimport { Mongo } from 'meteor/mongo';\r\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\r\n\r\nNodeDB = new Mongo.Collection('Nodes');\r\nLinkDB = new Mongo.Collection('Links');\r\nCountersDB = new Mongo.Collection('counters');\r\n\r\nNodeDB.schema = new SimpleSchema({});\r\nLinkDB.schema = new SimpleSchema({\r\n\tsubject: { type: Number },\r\n\tobject: { type: Number },\r\n\ttext: { type: String },\r\n});\r\n\r\nexport const Links = LinkDB;\r\nexport const Nodes = NodeDB;\r\nexport const counters = CountersDB;","// /imports/startup/client/index.js\r\nimport '/imports/ui/Lynxis/Lynxis.js';","import '/imports/startup/client/index.js';"]}}]