[{"type":"js","data":"/* Imports for global scope */\n\nMongoInternals = Package.mongo.MongoInternals;\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nECMAScript = Package.ecmascript.ECMAScript;\nValidatedMethod = Package['mdg:validated-method'].ValidatedMethod;\nSimpleSchema = Package['aldeed:simple-schema'].SimpleSchema;\nMongoObject = Package['aldeed:simple-schema'].MongoObject;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\nmain = Package.webapp.main;\nWebAppInternals = Package.webapp.WebAppInternals;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nDDPServer = Package['ddp-server'].DDPServer;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nmeteorInstall = Package.modules.meteorInstall;\nBuffer = Package.modules.Buffer;\nprocess = Package.modules.process;\nSymbol = Package['ecmascript-runtime'].Symbol;\nMap = Package['ecmascript-runtime'].Map;\nSet = Package['ecmascript-runtime'].Set;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nCollection2 = Package['aldeed:collection2-core'].Collection2;\nAutoupdate = Package.autoupdate.Autoupdate;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"imports\":{\"api\":{\"nodes\":{\"server\":{\"publications.js\":[\"meteor/meteor\",\"/imports/api/nodes/nodes.js\",function(require,exports,module){\n\n///////////////////////////////////////////////////////////////////////\n//                                                                   //\n// imports/api/nodes/server/publications.js                          //\n//                                                                   //\n///////////////////////////////////////////////////////////////////////\n                                                                     //\nvar Meteor;module.import('meteor/meteor',{\"Meteor\":function(v){Meteor=v}});var Nodes;module.import('/imports/api/nodes/nodes.js',{\"Nodes\":function(v){Nodes=v}});\n                                                                     // 2\n                                                                     //\nMeteor.publish('nodes.all', function () {                            // 4\n\treturn Nodes.find({});                                              // 5\n});                                                                  // 6\n///////////////////////////////////////////////////////////////////////\n\n}]},\"methods.js\":[\"babel-runtime/helpers/objectDestructuringEmpty\",\"meteor/meteor\",\"meteor/aldeed:simple-schema\",\"meteor/mdg:validated-method\",\"./nodes.js\",function(require,exports,module){\n\n///////////////////////////////////////////////////////////////////////\n//                                                                   //\n// imports/api/nodes/methods.js                                      //\n//                                                                   //\n///////////////////////////////////////////////////////////////////////\n                                                                     //\nmodule.export({insertNode:function(){return insertNode},insertLink:function(){return insertLink},updateNode:function(){return updateNode}});var _objectDestructuringEmpty;module.import('babel-runtime/helpers/objectDestructuringEmpty',{\"default\":function(v){_objectDestructuringEmpty=v}});var Meteor;module.import('meteor/meteor',{\"Meteor\":function(v){Meteor=v}});var SimpleSchema;module.import('meteor/aldeed:simple-schema',{\"SimpleSchema\":function(v){SimpleSchema=v}});var ValidatedMethod;module.import('meteor/mdg:validated-method',{\"ValidatedMethod\":function(v){ValidatedMethod=v}});var Nodes,Links;module.import('./nodes.js',{\"Nodes\":function(v){Nodes=v},\"Links\":function(v){Links=v}});\n// /imports/api/nodes/methods.js                                     //\n                                                                     // 2\n                                                                     // 3\n                                                                     // 4\n                                                                     // 5\n                                                                     //\nvar insertNode = new ValidatedMethod({                               // 7\n\tname: 'Nodes.insert',                                               // 8\n\tvalidate: Nodes.schema.validator(),                                 // 9\n                                                                     //\n\trun: function run(_ref) {                                           // 11\n\t\t_objectDestructuringEmpty(_ref);                                   // 11\n                                                                     //\n\t\tNodes.insert({ date: Date.parse(new Date()) });                    // 12\n\t}                                                                   // 13\n});                                                                  // 7\n                                                                     //\nvar insertLink = new ValidatedMethod({                               // 16\n\tname: 'Links.insert',                                               // 17\n\tvalidate: Links.schema.validator(),                                 // 18\n                                                                     //\n\trun: function run(_ref2) {                                          // 20\n\t\tvar subid = _ref2.subid;                                           // 20\n\t\tvar objid = _ref2.objid;                                           // 20\n\t\tvar text = _ref2.text;                                             // 20\n                                                                     //\n\t\tLinks.insert({                                                     // 21\n\t\t\tsubject: subject,                                                 // 22\n\t\t\tobject: object,                                                   // 23\n\t\t\ttext: text,                                                       // 24\n\t\t\tdate: new Date()                                                  // 25\n\t\t});                                                                // 21\n\t}                                                                   // 27\n});                                                                  // 16\n                                                                     //\nvar updateNode = new ValidatedMethod({                               // 30\n\tname: 'Nodes.update',                                               // 31\n\tvalidate: new SimpleSchema({                                        // 32\n\t\t_id: { type: String },                                             // 33\n\t\tdate: { type: String }                                             // 34\n\t}).validator(),                                                     // 32\n                                                                     //\n\trun: function run(_ref3) {                                          // 37\n\t\tvar _id = _ref3._id;                                               // 37\n\t\tvar date = _ref3.date;                                             // 37\n                                                                     //\n\t\tNodes.update({ _id: _id }, {                                       // 38\n\t\t\t$set: { date: date }                                              // 41\n\t\t});                                                                // 40\n\t\tconsole.log('working');                                            // 44\n\t}                                                                   // 45\n});                                                                  // 30\n///////////////////////////////////////////////////////////////////////\n\n}],\"nodes.js\":[\"meteor/mongo\",\"meteor/aldeed:simple-schema\",function(require,exports,module){\n\n///////////////////////////////////////////////////////////////////////\n//                                                                   //\n// imports/api/nodes/nodes.js                                        //\n//                                                                   //\n///////////////////////////////////////////////////////////////////////\n                                                                     //\nmodule.export({Links:function(){return Links},Nodes:function(){return Nodes},counters:function(){return counters}});var Mongo;module.import('meteor/mongo',{\"Mongo\":function(v){Mongo=v}});var SimpleSchema;module.import('meteor/aldeed:simple-schema',{\"SimpleSchema\":function(v){SimpleSchema=v}});// /imports/api/nodes/nodes.js\n                                                                     // 2\n                                                                     // 3\n                                                                     //\nNodeDB = new Mongo.Collection('Nodes');                              // 5\nLinkDB = new Mongo.Collection('Links');                              // 6\nCountersDB = new Mongo.Collection('counters');                       // 7\n                                                                     //\nNodeDB.schema = new SimpleSchema({});                                // 9\nLinkDB.schema = new SimpleSchema({                                   // 10\n\tsubject: { type: Number },                                          // 11\n\tobject: { type: Number },                                           // 12\n\ttext: { type: String }                                              // 13\n});                                                                  // 10\n                                                                     //\nvar Links = LinkDB;                                                  // 16\nvar Nodes = NodeDB;                                                  // 17\nvar counters = CountersDB;                                           // 18\n///////////////////////////////////////////////////////////////////////\n\n}]}},\"startup\":{\"server\":{\"index.js\":[\"/imports/api/nodes/nodes.js\",\"/imports/api/nodes/methods.js\",\"/imports/api/nodes/server/publications.js\",function(require,exports,module){\n\n///////////////////////////////////////////////////////////////////////\n//                                                                   //\n// imports/startup/server/index.js                                   //\n//                                                                   //\n///////////////////////////////////////////////////////////////////////\n                                                                     //\nmodule.import('/imports/api/nodes/nodes.js');module.import('/imports/api/nodes/methods.js');module.import('/imports/api/nodes/server/publications.js');// /imports/startup/server/index.js\n                                                                     // 2\n                                                                     // 3\n                                                                     // 4\n///////////////////////////////////////////////////////////////////////\n\n}]}}},\"server\":{\"main.js\":[\"/imports/startup/server/index.js\",function(require,exports,module){\n\n///////////////////////////////////////////////////////////////////////\n//                                                                   //\n// server/main.js                                                    //\n//                                                                   //\n///////////////////////////////////////////////////////////////////////\n                                                                     //\nmodule.import('/imports/startup/server/index.js');                   // 1\n///////////////////////////////////////////////////////////////////////\n\n}]}},{\"extensions\":[\".js\",\".json\"]});\nrequire(\"./server/main.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["/imports/api/nodes/server/publications.js","/imports/api/nodes/methods.js","/imports/api/nodes/nodes.js","/imports/startup/server/index.js","/server/main.js"],"names":[],"mappings":";;;;;;;;AAAA,SAAS,MAAT,QAAuB,eAAvB;AACA,SAAS,KAAT,QAAsB,6BAAtB;;AAEA,OAAO,OAAP,CAAe,WAAf,EAA4B,YAAY;AACvC,QAAO,MAAM,IAAN,CAAW,EAAX,CAAP;AACA,CAFD,wE;;;;;;;;;;;;;ACFA,SAAS,MAAT,QAAuB,eAAvB;AACA,SAAS,YAAT,QAA6B,6BAA7B;AACA,SAAS,eAAT,QAAgC,6BAAhC;AACA,SAAS,KAAT,EAAgB,KAAhB,QAA6B,YAA7B;;AAEA,OAAO,IAAM,aAAa,IAAI,eAAJ,CAAoB;AAC7C,OAAM,cADuC;AAE7C,WAAU,MAAM,MAAN,CAAa,SAAb,EAFmC;;AAI7C,IAJ6C,qBAIrC;AAAA;;AACP,QAAM,MAAN,CAAa,EAAE,MAAM,KAAK,KAAL,CAAW,IAAI,IAAJ,EAAX,CAAR,EAAb;AACA;AAN4C,CAApB,CAAnB;;AASP,OAAO,IAAM,aAAa,IAAI,eAAJ,CAAoB;AAC7C,OAAM,cADuC;AAE7C,WAAU,MAAM,MAAN,CAAa,SAAb,EAFmC;;AAI7C,IAJ6C,sBAIjB;AAAA,MAAtB,KAAsB,SAAtB,KAAsB;AAAA,MAAf,KAAe,SAAf,KAAe;AAAA,MAAR,IAAQ,SAAR,IAAQ;;AAC3B,QAAM,MAAN,CAAa;AACZ,mBADY;AAEZ,iBAFY;AAGZ,aAHY;AAIZ,SAAM,IAAI,IAAJ;AAJM,GAAb;AAMA;AAX4C,CAApB,CAAnB;;AAcP,OAAO,IAAM,aAAa,IAAI,eAAJ,CAAoB;AAC7C,OAAM,cADuC;AAE7C,WAAU,IAAI,YAAJ,CAAiB;AAC1B,OAAK,EAAE,MAAM,MAAR,EADqB;AAE1B,QAAM,EAAE,MAAM,MAAR;AAFoB,EAAjB,EAGP,SAHO,EAFmC;;AAO7C,IAP6C,sBAO1B;AAAA,MAAb,GAAa,SAAb,GAAa;AAAA,MAAR,IAAQ,SAAR,IAAQ;;AAClB,QAAM,MAAN,CACC,EAAE,KAAK,GAAP,EADD,EAEC;AACC,SAAM,EAAE,UAAF;AADP,GAFD;AAMA,UAAQ,GAAR,CAAY,SAAZ;AACA;AAf4C,CAApB,CAAnB,wE;;;;;;;;;;;;AC5BP,SAAS,KAAT,QAAsB,cAAtB;AACA,SAAS,YAAT,QAA6B,6BAA7B;;AAEA,SAAS,IAAI,MAAM,UAAV,CAAqB,OAArB,CAAT;AACA,SAAS,IAAI,MAAM,UAAV,CAAqB,OAArB,CAAT;AACA,aAAa,IAAI,MAAM,UAAV,CAAqB,UAArB,CAAb;;AAEA,OAAO,MAAP,GAAgB,IAAI,YAAJ,CAAiB,EAAjB,CAAhB;AACA,OAAO,MAAP,GAAgB,IAAI,YAAJ,CAAiB;AAChC,UAAS,EAAE,MAAM,MAAR,EADuB;AAEhC,SAAQ,EAAE,MAAM,MAAR,EAFwB;AAGhC,OAAM,EAAE,MAAM,MAAR;AAH0B,CAAjB,CAAhB;;AAMA,OAAO,IAAM,QAAQ,MAAd;AACP,OAAO,IAAM,QAAQ,MAAd;AACP,OAAO,IAAM,WAAW,UAAjB,0C;;;;;;;;;;;;AChBP,OAAO,6BAAP;AACA,OAAO,+BAAP;AACA,OAAO,2CAAP,uB;;;;;;;;;;;ACHA,OAAO,kCAAP,gC","file":"/app.js","sourcesContent":["import { Meteor } from 'meteor/meteor';\r\nimport { Nodes } from '/imports/api/nodes/nodes.js';\r\n\r\nMeteor.publish('nodes.all', function () {\r\n\treturn Nodes.find({});\r\n});","// /imports/api/nodes/methods.js\r\nimport { Meteor } from 'meteor/meteor';\r\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\r\nimport { ValidatedMethod } from 'meteor/mdg:validated-method';\r\nimport { Nodes, Links } from './nodes.js';\r\n\r\nexport const insertNode = new ValidatedMethod({\r\n\tname: 'Nodes.insert',\r\n\tvalidate: Nodes.schema.validator(),\r\n\r\n\trun({}) {\r\n\t\tNodes.insert({ date: Date.parse(new Date()) });\r\n\t}\r\n});\r\n\r\nexport const insertLink = new ValidatedMethod({\r\n\tname: 'Links.insert',\r\n\tvalidate: Links.schema.validator(),\r\n\r\n\trun({ subid, objid, text }) {\r\n\t\tLinks.insert({\r\n\t\t\tsubject,\r\n\t\t\tobject,\r\n\t\t\ttext,\r\n\t\t\tdate: new Date()\r\n\t\t});\r\n\t}\r\n});\r\n\r\nexport const updateNode = new ValidatedMethod({\r\n\tname: 'Nodes.update',\r\n\tvalidate: new SimpleSchema({\r\n\t\t_id: { type: String },\r\n\t\tdate: { type: String }\r\n\t}).validator(),\r\n\r\n\trun({ _id, date }) {\r\n\t\tNodes.update(\r\n\t\t\t{ _id: _id },\r\n\t\t\t{\r\n\t\t\t\t$set: { date }\r\n\t\t\t}\r\n\t\t);\r\n\t\tconsole.log('working');\r\n\t}\r\n});","// /imports/api/nodes/nodes.js\r\nimport { Mongo } from 'meteor/mongo';\r\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\r\n\r\nNodeDB = new Mongo.Collection('Nodes');\r\nLinkDB = new Mongo.Collection('Links');\r\nCountersDB = new Mongo.Collection('counters');\r\n\r\nNodeDB.schema = new SimpleSchema({});\r\nLinkDB.schema = new SimpleSchema({\r\n\tsubject: { type: Number },\r\n\tobject: { type: Number },\r\n\ttext: { type: String },\r\n});\r\n\r\nexport const Links = LinkDB;\r\nexport const Nodes = NodeDB;\r\nexport const counters = CountersDB;","// /imports/startup/server/index.js\r\nimport '/imports/api/nodes/nodes.js';\r\nimport '/imports/api/nodes/methods.js';\r\nimport '/imports/api/nodes/server/publications.js';","import '/imports/startup/server/index.js';"]}}]