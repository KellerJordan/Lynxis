[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\n$ = Package.jquery.$;\njQuery = Package.jquery.jQuery;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nValidatedMethod = Package['mdg:validated-method'].ValidatedMethod;\nSimpleSchema = Package['aldeed:simple-schema'].SimpleSchema;\nMongoObject = Package['aldeed:simple-schema'].MongoObject;\nMaterialize = Package['materialize:materialize'].Materialize;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package['templating-runtime'].Template;\nmeteorInstall = Package.modules.meteorInstall;\nBuffer = Package.modules.Buffer;\nprocess = Package.modules.process;\nSymbol = Package['ecmascript-runtime'].Symbol;\nMap = Package['ecmascript-runtime'].Map;\nSet = Package['ecmascript-runtime'].Set;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nCollection2 = Package['aldeed:collection2-core'].Collection2;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"imports\":{\"ui\":{\"Lynxis\":{\"Lynxis.html\":[\"./template.Lynxis.js\",function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// imports/ui/Lynxis/Lynxis.html                                                                           //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\nmodule.exports = require(\"./template.Lynxis.js\");                                                          // 1\n                                                                                                           // 2\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}],\"template.Lynxis.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// imports/ui/Lynxis/template.Lynxis.js                                                                    //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\n                                                                                                           // 1\nTemplate.body.addContent((function() {                                                                     // 2\n  var view = this;                                                                                         // 3\n  return HTML.Raw('<h4>Lynxis</h4>\\n\\t<div id=\"render-target\">\\n\\t</div>');                                // 4\n}));                                                                                                       // 5\nMeteor.startup(Template.body.renderToDocument);                                                            // 6\n                                                                                                           // 7\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Lynxis.js\":[\"meteor/meteor\",\"/imports/api/nodes/nodes.js\",\"/imports/api/nodes/methods.js\",\"./Lynxis.html\",\"react\",\"react-dom\",function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// imports/ui/Lynxis/Lynxis.js                                                                             //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\nvar Meteor;module.import('meteor/meteor',{\"Meteor\":function(v){Meteor=v}});var Nodes,Links;module.import('/imports/api/nodes/nodes.js',{\"Nodes\":function(v){Nodes=v},\"Links\":function(v){Links=v}});var insertNode,insertLink,updateNode;module.import('/imports/api/nodes/methods.js',{\"insertNode\":function(v){insertNode=v},\"insertLink\":function(v){insertLink=v},\"updateNode\":function(v){updateNode=v}});module.import('./Lynxis.html');var React;module.import('react',{\"default\":function(v){React=v}});var render;module.import('react-dom',{\"render\":function(v){render=v}});\n                                                                                                           // 2\n                                                                                                           // 3\n                                                                                                           // 4\n                                                                                                           //\n                                                                                                           // 6\n                                                                                                           // 7\n                                                                                                           //\nMeteor.startup(function () {                                                                               // 10\n\tMeteor.autorun(function () {                                                                              // 11\n                                                                                                           //\n\t\tMeteor.subscribe('nodes.all');                                                                           // 13\n\t\trender(React.createElement(App, { nodes: Nodes.find() }), document.getElementById('render-target'));     // 14\n                                                                                                           //\n\t\t$('#addNode').unbind('click').bind('click', function () {                                                // 16\n\t\t\tinsertNode.call({});                                                                                    // 17\n\t\t});                                                                                                      // 18\n\t});                                                                                                       // 20\n});                                                                                                        // 21\n                                                                                                           //\nvar App = React.createClass({                                                                              // 23\n\tdisplayName: 'App',                                                                                       // 23\n\trender: function () {                                                                                     // 24\n\t\tfunction render() {                                                                                      // 23\n\t\t\treturn React.createElement(                                                                             // 25\n\t\t\t\t'div',                                                                                                 // 26\n\t\t\t\t{ id: 'container' },                                                                                   // 26\n\t\t\t\tReact.createElement(                                                                                   // 27\n\t\t\t\t\t'ul',                                                                                                 // 27\n\t\t\t\t\t{ className: 'collection' },                                                                          // 27\n\t\t\t\t\tthis.props.nodes.map(function (node) {                                                                // 28\n\t\t\t\t\t\treturn React.createElement(                                                                          // 29\n\t\t\t\t\t\t\t'li',                                                                                               // 30\n\t\t\t\t\t\t\t{ key: node._id, className: 'collection-item' },                                                    // 30\n\t\t\t\t\t\t\tReact.createElement(TextNode, { id: node._id, text: node.date })                                    // 31\n\t\t\t\t\t\t);                                                                                                   // 30\n\t\t\t\t\t}),                                                                                                   // 34\n\t\t\t\t\tReact.createElement(                                                                                  // 35\n\t\t\t\t\t\t'li',                                                                                                // 35\n\t\t\t\t\t\t{ className: 'collection-item', id: 'addNode' },                                                     // 35\n\t\t\t\t\t\t'Add a Node'                                                                                         // 35\n\t\t\t\t\t)                                                                                                     // 35\n\t\t\t\t)                                                                                                      // 27\n\t\t\t);                                                                                                      // 26\n\t\t}                                                                                                        // 39\n                                                                                                           //\n\t\treturn render;                                                                                           // 23\n\t}()                                                                                                       // 23\n});                                                                                                        // 23\n                                                                                                           //\nvar TextNode = React.createClass({                                                                         // 42\n\tdisplayName: 'TextNode',                                                                                  // 42\n\tgetInitialState: function () {                                                                            // 43\n\t\tfunction getInitialState() {                                                                             // 42\n\t\t\treturn {                                                                                                // 44\n\t\t\t\ttext: this.props.text,                                                                                 // 45\n\t\t\t\thovered: false,                                                                                        // 46\n\t\t\t\tfocused: false                                                                                         // 47\n\t\t\t};                                                                                                      // 44\n\t\t}                                                                                                        // 49\n                                                                                                           //\n\t\treturn getInitialState;                                                                                  // 42\n\t}(),                                                                                                      // 42\n                                                                                                           //\n                                                                                                           //\n\tcomponentWillReceiveProps: function () {                                                                  // 51\n\t\tfunction componentWillReceiveProps(nextProps) {                                                          // 51\n\t\t\tthis.setState({ hovered: nextProps.hovered });                                                          // 51\n\t\t}                                                                                                        // 51\n                                                                                                           //\n\t\treturn componentWillReceiveProps;                                                                        // 51\n\t}(),                                                                                                      // 51\n                                                                                                           //\n\thandleChange: function () {                                                                               // 53\n\t\tfunction handleChange(event) {                                                                           // 42\n\t\t\tvar text = event.target.value;                                                                          // 54\n\t\t\tthis.setState({ text: text });                                                                          // 55\n\t\t\tvar node = {                                                                                            // 56\n\t\t\t\t_id: this.props.id,                                                                                    // 57\n\t\t\t\tdate: text                                                                                             // 58\n\t\t\t};                                                                                                      // 56\n\t\t\tupdateNode.call(node);                                                                                  // 60\n\t\t}                                                                                                        // 61\n                                                                                                           //\n\t\treturn handleChange;                                                                                     // 42\n\t}(),                                                                                                      // 42\n\thandleHover: function () {                                                                                // 63\n\t\tfunction handleHover(hover) {                                                                            // 42\n\t\t\tthis.setState({ hovered: hover });                                                                      // 63\n\t\t}                                                                                                        // 63\n                                                                                                           //\n\t\treturn handleHover;                                                                                      // 42\n\t}(),                                                                                                      // 42\n\thandleFocus: function () {                                                                                // 65\n\t\tfunction handleFocus(focus) {                                                                            // 42\n\t\t\tthis.setState({ focused: focus });                                                                      // 66\n\t\t\t// if(!focus) MathJax.Hub.Queue([\"Typeset\", MathJax.Hub]);                                              //\n\t\t}                                                                                                        // 68\n                                                                                                           //\n\t\treturn handleFocus;                                                                                      // 42\n\t}(),                                                                                                      // 42\n\trender: function () {                                                                                     // 70\n\t\tfunction render() {                                                                                      // 42\n\t\t\tvar text = this.state.text,                                                                             // 71\n\t\t\t    divVisible = this.state.hovered || this.state.focused ? \"hidden\" : \"visible\",                       // 71\n\t\t\t    textareaVisible = divVisible == \"visible\" ? \"hidden\" : \"visible\";                                   // 71\n\t\t\treturn React.createElement(                                                                             // 74\n\t\t\t\t'div',                                                                                                 // 75\n\t\t\t\t{ onMouseEnter: this.handleHover.bind(this, true), onMouseLeave: this.handleHover.bind(this, false) },\n\t\t\t\tReact.createElement('textarea', {                                                                      // 76\n\t\t\t\t\tonFocus: this.handleFocus.bind(this, true),                                                           // 77\n\t\t\t\t\tonChange: this.handleChange,                                                                          // 78\n\t\t\t\t\tonBlur: this.handleFocus.bind(this, false),                                                           // 79\n\t\t\t\t\tvalue: text,                                                                                          // 80\n\t\t\t\t\trows: 1,                                                                                              // 81\n\t\t\t\t\tstyle: {                                                                                              // 82\n\t\t\t\t\t\tvisibility: textareaVisible,                                                                         // 83\n\t\t\t\t\t\tzIndex: 1000                                                                                         // 84\n\t\t\t\t\t}                                                                                                     // 82\n\t\t\t\t}),                                                                                                    // 76\n\t\t\t\tReact.createElement(                                                                                   // 87\n\t\t\t\t\t'div',                                                                                                // 87\n\t\t\t\t\t{                                                                                                     // 87\n\t\t\t\t\t\tstyle: {                                                                                             // 88\n\t\t\t\t\t\t\tvisibility: divVisible                                                                              // 89\n\t\t\t\t\t\t},                                                                                                   // 88\n\t\t\t\t\t\tclassName: 'TextNode'                                                                                // 91\n\t\t\t\t\t},                                                                                                    // 87\n\t\t\t\t\ttext                                                                                                  // 93\n\t\t\t\t)                                                                                                      // 87\n\t\t\t);                                                                                                      // 75\n\t\t}                                                                                                        // 97\n                                                                                                           //\n\t\treturn render;                                                                                           // 42\n\t}()                                                                                                       // 42\n});                                                                                                        // 42\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}]}},\"api\":{\"nodes\":{\"methods.js\":[\"babel-runtime/helpers/objectDestructuringEmpty\",\"meteor/meteor\",\"meteor/aldeed:simple-schema\",\"meteor/mdg:validated-method\",\"./nodes.js\",function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// imports/api/nodes/methods.js                                                                            //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\nmodule.export({insertNode:function(){return insertNode},insertLink:function(){return insertLink},updateNode:function(){return updateNode}});var _objectDestructuringEmpty;module.import('babel-runtime/helpers/objectDestructuringEmpty',{\"default\":function(v){_objectDestructuringEmpty=v}});var Meteor;module.import('meteor/meteor',{\"Meteor\":function(v){Meteor=v}});var SimpleSchema;module.import('meteor/aldeed:simple-schema',{\"SimpleSchema\":function(v){SimpleSchema=v}});var ValidatedMethod;module.import('meteor/mdg:validated-method',{\"ValidatedMethod\":function(v){ValidatedMethod=v}});var Nodes,Links;module.import('./nodes.js',{\"Nodes\":function(v){Nodes=v},\"Links\":function(v){Links=v}});\n// /imports/api/nodes/methods.js                                                                           //\n                                                                                                           // 2\n                                                                                                           // 3\n                                                                                                           // 4\n                                                                                                           // 5\n                                                                                                           //\nvar insertNode = new ValidatedMethod({                                                                     // 7\n\tname: 'Nodes.insert',                                                                                     // 8\n\tvalidate: Nodes.schema.validator(),                                                                       // 9\n                                                                                                           //\n\trun: function () {                                                                                        // 11\n\t\tfunction run(_ref) {                                                                                     // 7\n\t\t\t_objectDestructuringEmpty(_ref);                                                                        // 11\n                                                                                                           //\n\t\t\tNodes.insert({ date: Date.parse(new Date()) });                                                         // 12\n\t\t}                                                                                                        // 13\n                                                                                                           //\n\t\treturn run;                                                                                              // 7\n\t}()                                                                                                       // 7\n});                                                                                                        // 7\n                                                                                                           //\nvar insertLink = new ValidatedMethod({                                                                     // 16\n\tname: 'Links.insert',                                                                                     // 17\n\tvalidate: Links.schema.validator(),                                                                       // 18\n                                                                                                           //\n\trun: function () {                                                                                        // 20\n\t\tfunction run(_ref2) {                                                                                    // 16\n\t\t\tvar subid = _ref2.subid;                                                                                // 20\n\t\t\tvar objid = _ref2.objid;                                                                                // 20\n\t\t\tvar text = _ref2.text;                                                                                  // 20\n                                                                                                           //\n\t\t\tLinks.insert({                                                                                          // 21\n\t\t\t\tsubject: subject,                                                                                      // 22\n\t\t\t\tobject: object,                                                                                        // 23\n\t\t\t\ttext: text,                                                                                            // 24\n\t\t\t\tdate: new Date()                                                                                       // 25\n\t\t\t});                                                                                                     // 21\n\t\t}                                                                                                        // 27\n                                                                                                           //\n\t\treturn run;                                                                                              // 16\n\t}()                                                                                                       // 16\n});                                                                                                        // 16\n                                                                                                           //\nvar updateNode = new ValidatedMethod({                                                                     // 30\n\tname: 'Nodes.update',                                                                                     // 31\n\tvalidate: new SimpleSchema({                                                                              // 32\n\t\t_id: { type: String },                                                                                   // 33\n\t\tdate: { type: String }                                                                                   // 34\n\t}).validator(),                                                                                           // 32\n                                                                                                           //\n\trun: function () {                                                                                        // 37\n\t\tfunction run(_ref3) {                                                                                    // 30\n\t\t\tvar _id = _ref3._id;                                                                                    // 37\n\t\t\tvar date = _ref3.date;                                                                                  // 37\n                                                                                                           //\n\t\t\tNodes.update({ _id: _id }, {                                                                            // 38\n\t\t\t\t$set: { date: date }                                                                                   // 41\n\t\t\t});                                                                                                     // 40\n\t\t\tconsole.log('working');                                                                                 // 44\n\t\t}                                                                                                        // 45\n                                                                                                           //\n\t\treturn run;                                                                                              // 30\n\t}()                                                                                                       // 30\n});                                                                                                        // 30\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}],\"nodes.js\":[\"meteor/mongo\",\"meteor/aldeed:simple-schema\",function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// imports/api/nodes/nodes.js                                                                              //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\nmodule.export({Links:function(){return Links},Nodes:function(){return Nodes},counters:function(){return counters}});var Mongo;module.import('meteor/mongo',{\"Mongo\":function(v){Mongo=v}});var SimpleSchema;module.import('meteor/aldeed:simple-schema',{\"SimpleSchema\":function(v){SimpleSchema=v}});// /imports/api/nodes/nodes.js\n                                                                                                           // 2\n                                                                                                           // 3\n                                                                                                           //\nNodeDB = new Mongo.Collection('Nodes');                                                                    // 5\nLinkDB = new Mongo.Collection('Links');                                                                    // 6\nCountersDB = new Mongo.Collection('counters');                                                             // 7\n                                                                                                           //\nNodeDB.schema = new SimpleSchema({});                                                                      // 9\nLinkDB.schema = new SimpleSchema({                                                                         // 10\n\tsubject: { type: Number },                                                                                // 11\n\tobject: { type: Number },                                                                                 // 12\n\ttext: { type: String }                                                                                    // 13\n});                                                                                                        // 10\n                                                                                                           //\nvar Links = LinkDB;                                                                                        // 16\nvar Nodes = NodeDB;                                                                                        // 17\nvar counters = CountersDB;                                                                                 // 18\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}]}},\"startup\":{\"client\":{\"index.js\":[\"/imports/ui/Lynxis/Lynxis.js\",function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// imports/startup/client/index.js                                                                         //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\nmodule.import('/imports/ui/Lynxis/Lynxis.js');// /imports/startup/client/index.js                          //\n                                                                                                           // 2\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}]}}},\"client\":{\"main.js\":[\"/imports/startup/client/index.js\",function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// client/main.js                                                                                          //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\nmodule.import('/imports/startup/client/index.js');                                                         // 1\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}]}},{\"extensions\":[\".js\",\".json\",\".html\",\".css\"]});\nrequire(\"./client/main.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["imports/ui/Lynxis/Lynxis.html","/imports/ui/Lynxis/template.Lynxis.js","/imports/ui/Lynxis/Lynxis.js","/imports/api/nodes/methods.js","/imports/api/nodes/nodes.js","/imports/startup/client/index.js","/client/main.js"],"names":[],"mappings":"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","file":"/app.js","sourcesContent":["module.exports = require(\"./template.Lynxis.js\");\n","\nTemplate.body.addContent((function() {\n  var view = this;\n  return HTML.Raw('<h4>Lynxis</h4>\\n\\t<div id=\"render-target\">\\n\\t</div>');\n}));\nMeteor.startup(Template.body.renderToDocument);\n","import { Meteor } from 'meteor/meteor';\r\nimport { Nodes, Links } from '/imports/api/nodes/nodes.js';\r\nimport { insertNode, insertLink, updateNode } from '/imports/api/nodes/methods.js';\r\nimport './Lynxis.html';\r\n\r\nimport React from 'react';\r\nimport { render } from 'react-dom';\r\n\r\n\r\nMeteor.startup(() => {\r\n\tMeteor.autorun(() => {\r\n\r\n\t\tMeteor.subscribe('nodes.all');\r\n\t\trender(<App nodes={Nodes.find()} />, document.getElementById('render-target'));\r\n\r\n\t\t$('#addNode').unbind('click').bind('click', () => {\r\n\t\t\tinsertNode.call({});\r\n\t\t});\r\n\t\t\r\n\t});\r\n});\r\n\r\nvar App = React.createClass({\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div id=\"container\">\r\n\t\t\t\t<ul className=\"collection\">\r\n\t\t\t\t\t{this.props.nodes.map(node => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<li key={node._id} className=\"collection-item\">\r\n\t\t\t\t\t\t\t\t<TextNode id={node._id} text={node.date} />\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t<li className=\"collection-item\" id=\"addNode\">Add a Node</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n});\r\n\r\nvar TextNode = React.createClass({\r\n\tgetInitialState() {\r\n\t\treturn {\r\n\t\t\ttext: this.props.text,\r\n\t\t\thovered: false,\r\n\t\t\tfocused: false\r\n\t\t}\r\n\t},\r\n\r\n\tcomponentWillReceiveProps: function(nextProps) { this.setState({ hovered: nextProps.hovered })},\r\n\r\n\thandleChange(event) {\r\n\t\tconst text = event.target.value;\r\n\t\tthis.setState({ text });\r\n\t\tconst node = {\r\n\t\t\t_id: this.props.id,\r\n\t\t\tdate: text\r\n\t\t};\r\n\t\tupdateNode.call(node);\r\n\t},\r\n\r\n\thandleHover(hover) { this.setState({ hovered: hover }) },\r\n\r\n\thandleFocus(focus) {\r\n\t\tthis.setState({ focused: focus });\r\n\t\t// if(!focus) MathJax.Hub.Queue([\"Typeset\", MathJax.Hub]);\r\n\t},\r\n\r\n\trender() {\r\n\t\tvar text = this.state.text,\r\n\t\t\tdivVisible = this.state.hovered || this.state.focused ? \"hidden\" : \"visible\",\r\n\t\t\ttextareaVisible = (divVisible == \"visible\") ? \"hidden\" : \"visible\";\r\n\t\treturn (\r\n\t\t\t<div onMouseEnter={this.handleHover.bind(this, true)} onMouseLeave={this.handleHover.bind(this, false)} >\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tonFocus={this.handleFocus.bind(this, true)}\r\n\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\tonBlur={this.handleFocus.bind(this, false)}\r\n\t\t\t\t\tvalue={text}\r\n\t\t\t\t\trows={1}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tvisibility: textareaVisible,\r\n\t\t\t\t\t\tzIndex: 1000\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tvisibility: divVisible,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName=\"TextNode\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{text}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n});","// /imports/api/nodes/methods.js\r\nimport { Meteor } from 'meteor/meteor';\r\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\r\nimport { ValidatedMethod } from 'meteor/mdg:validated-method';\r\nimport { Nodes, Links } from './nodes.js';\r\n\r\nexport const insertNode = new ValidatedMethod({\r\n\tname: 'Nodes.insert',\r\n\tvalidate: Nodes.schema.validator(),\r\n\r\n\trun({}) {\r\n\t\tNodes.insert({ date: Date.parse(new Date()) });\r\n\t}\r\n});\r\n\r\nexport const insertLink = new ValidatedMethod({\r\n\tname: 'Links.insert',\r\n\tvalidate: Links.schema.validator(),\r\n\r\n\trun({ subid, objid, text }) {\r\n\t\tLinks.insert({\r\n\t\t\tsubject,\r\n\t\t\tobject,\r\n\t\t\ttext,\r\n\t\t\tdate: new Date()\r\n\t\t});\r\n\t}\r\n});\r\n\r\nexport const updateNode = new ValidatedMethod({\r\n\tname: 'Nodes.update',\r\n\tvalidate: new SimpleSchema({\r\n\t\t_id: { type: String },\r\n\t\tdate: { type: String }\r\n\t}).validator(),\r\n\r\n\trun({ _id, date }) {\r\n\t\tNodes.update(\r\n\t\t\t{ _id: _id },\r\n\t\t\t{\r\n\t\t\t\t$set: { date }\r\n\t\t\t}\r\n\t\t);\r\n\t\tconsole.log('working');\r\n\t}\r\n});","// /imports/api/nodes/nodes.js\r\nimport { Mongo } from 'meteor/mongo';\r\nimport { SimpleSchema } from 'meteor/aldeed:simple-schema';\r\n\r\nNodeDB = new Mongo.Collection('Nodes');\r\nLinkDB = new Mongo.Collection('Links');\r\nCountersDB = new Mongo.Collection('counters');\r\n\r\nNodeDB.schema = new SimpleSchema({});\r\nLinkDB.schema = new SimpleSchema({\r\n\tsubject: { type: Number },\r\n\tobject: { type: Number },\r\n\ttext: { type: String },\r\n});\r\n\r\nexport const Links = LinkDB;\r\nexport const Nodes = NodeDB;\r\nexport const counters = CountersDB;","// /imports/startup/client/index.js\r\nimport '/imports/ui/Lynxis/Lynxis.js';","import '/imports/startup/client/index.js';"]}}]